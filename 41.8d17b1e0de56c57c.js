"use strict";(self.webpackChunkhero_app=self.webpackChunkhero_app||[]).push([[41],{3041:(A,g,r)=>{r.r(g),r.d(g,{HomeComponent:()=>Z});var m=r(284),s=r(627),t=r(5879),_=r(2023),h=r(1896),f=r(6283),u=r(8672),C=r(2296),p=r(3176),O=r(617),l=r(6814),P=r(1281),M=r(7304),v=r(1816),b=r(6688);function x(i,c){1&i&&(t.ynx(0),t.TgZ(1,"p"),t._uU(2,"No hay personajes disponibles"),t.qZA(),t.BQk())}function E(i,c){1&i&&(t.TgZ(0,"div",19),t._uU(1," HOT DEAL "),t.qZA())}const T=function(i){return["/character",i]};function D(i,c){if(1&i&&(t.TgZ(0,"mat-grid-tile")(1,"a",13),t._UZ(2,"img",14),t.TgZ(3,"button",15),t._UZ(4,"mat-icon",16),t.qZA(),t.YNc(5,E,2,0,"div",17),t.ALo(6,"lastNumber"),t.TgZ(7,"div",18),t._uU(8),t.qZA()()()),2&i){const a=c.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(7,T,a.id)),t.xp6(1),t.hYB("ngSrc","",a.thumbnail.path,".",a.thumbnail.extension,""),t.xp6(3),t.Q6J("ngIf",!t.lcZ(6,5,a.id)),t.xp6(3),t.hij(" ",a.name," ")}}let Z=(()=>{class i{get findText(){return this.route.queryParams.getValue().find}constructor(a,n){this.Characters=a,this.route=n,this.loadedCharacters=[],this.paginator={limit:18,page:1,total:0,orderType:s.a},this.listeners=[],this.loadingCharacters=!1,this.sortingCharacters=!1,this.findingCharacters=!1,this.isMobile=!1}ngAfterViewInit(){setTimeout(()=>{this.queryParamSubscription$=this.route.queryParams.subscribe(({find:n=""})=>{if(null!=n){this.findingCharacters=!0;const{limit:e,total:o}=this.paginator;this.Characters.replace({limit:o<e?e:o,find:n});const d=document.querySelector("#input-searcher");d&&(d.value=n)}}),this.characterSubscription$=this.Characters.characters.subscribe(n=>{const{limit:e,total:o}=this.paginator;this.loadedCharacters=n.slice(0,o+e),this.paginator.total=this.loadedCharacters.length,this.loadingCharacters&&(this.loadingCharacters=!1),this.sortingCharacters&&(this.sortingCharacters=!1),this.findingCharacters&&(this.findingCharacters=!1)});const a=()=>this.isMobile=window.innerWidth<600;a(),window.addEventListener("resize",a),this.listeners.push({parent:window,id:"resize",callback:a})},0)}load(){if(this.loadingCharacters)return;const{limit:a,total:n,orderType:e}=this.paginator;if(!(n>=this.Characters.totalResults)){if(this.loadingCharacters=!0,this.paginator.page++,this.Characters.totalLoaded>n)return this.loadedCharacters=this.Characters.characters.getValue().slice(0,n+a),this.paginator.total=this.loadedCharacters.length,void(this.loadingCharacters=!1);this.Characters.load({limit:a,offset:n,orderType:e,find:this.findText})}}changeSort(){this.sortingCharacters=!0,this.paginator.orderType=this.paginator.orderType===s.a?s.j:s.a,this.Characters.replace({orderType:this.paginator.orderType,find:this.findText})}ngOnDestroy(){this.characterSubscription$?.unsubscribe(),this.queryParamSubscription$?.unsubscribe(),this.listeners.forEach(({callback:a,id:n,parent:e})=>e.removeEventListener(n,a))}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(_.R),t.Y36(h.gz))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-home"]],standalone:!0,features:[t.jDz],decls:20,vars:17,consts:[["id","home-content","infiniteScroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],["section",""],["id","filter-section"],[1,"m-0","me-3","hide-on-mobile",2,"font-weight","500","color","var(--app-cl3)","line-height","2.2rem"],["mat-flat-button","",1,"sort-btn",3,"click"],[1,"btn-text"],["svgIcon","ct-sort"],["id","character-section"],[4,"ngIf"],["rowHeight","17:20","gutterSize","17px",3,"cols"],[4,"ngFor","ngForOf"],[1,"p-relative","mt-3",2,"height","30px"],["bdColor","rgba(255, 255, 255, 0.6)","color","var(--app-cl3)","Color","rgba(0, 0, 0, 0.8)","size","medium","type","ball-pulse",3,"fullScreen"],[1,"simple-card","c-pointer",3,"routerLink"],["fill","",1,"background-image",3,"ngSrc"],["float","right/top","mat-flat-button","",1,"floating-element","favorite-btn"],["svgIcon","ct-favorite",1,"m-0"],["class","floating-element hot-deal","float","top",4,"ngIf"],[1,"content","scrollbar"],["float","top",1,"floating-element","hot-deal"]],template:function(n,e){1&n&&(t._UZ(0,"app-header")(1,"app-searcher"),t.TgZ(2,"article",0,1),t.NdJ("scrolled",function(){return e.load()}),t.TgZ(4,"section",2)(5,"h3",3),t._uU(6),t.qZA(),t.TgZ(7,"button",4),t.NdJ("click",function(){return e.changeSort()}),t.TgZ(8,"span",5),t._uU(9),t.ALo(10,"lowercase"),t.qZA(),t._UZ(11,"mat-icon",6),t.ALo(12,"lowercase"),t.qZA()(),t.TgZ(13,"section",7),t.YNc(14,x,3,0,"ng-container",8),t.TgZ(15,"mat-grid-list",9),t.YNc(16,D,9,9,"mat-grid-tile",10),t.qZA()(),t.TgZ(17,"div",11),t._UZ(18,"ngx-spinner",12),t.qZA()(),t._UZ(19,"app-navbar")),2&n&&(t.xp6(2),t.Q6J("infiniteScrollDistance",.5)("infiniteScrollThrottle",50)("scrollWindow",!1),t.xp6(4),t.AsE(" ",e.paginator.total,"/",e.Characters.totalResults," resultados "),t.xp6(3),t.Oqu("asc"===t.lcZ(10,13,e.paginator.orderType)?"A-Z":"Z-A"),t.xp6(2),t.Gre("m-0 sort-",t.lcZ(12,15,e.paginator.orderType),""),t.xp6(3),t.Q6J("ngIf",!e.loadedCharacters.length),t.xp6(1),t.Q6J("cols",e.isMobile?2:6),t.xp6(1),t.Q6J("ngForOf",e.loadedCharacters),t.xp6(2),t.Q6J("fullScreen",e.sortingCharacters||e.findingCharacters))},dependencies:[m.m,f.Ry,u.Ro,C.lW,p.Il,p.DX,O.Hw,h.rH,l.sg,l.O5,P.P,M.G,v.S,l.Zd,l.i8,b.h],styles:["[_nghost-%COMP%]{background:var(--tertiary-bg);flex-direction:column;height:100vh;display:flex}#home-content[_ngcontent-%COMP%]{padding:0 8vw 2vh;overflow:auto;flex-grow:1;height:100%}.favorite-btn[_ngcontent-%COMP%]{--mdc-filled-button-container-color: rgba(255, 255, 255, .9);padding:24px 12px;min-width:unset}.mat-grid-tile[_ngcontent-%COMP%]{box-shadow:0 6px 10px var(--app-sw1);overflow:visible!important}.simple-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{overflow:auto}.simple-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:all .5s ease;opacity:.75}.simple-card[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:1}.sort-btn[_ngcontent-%COMP%]{--mdc-filled-button-label-text-color: var(--app-cl2);--mdc-filled-button-container-color: transparent;grid-template-columns:repeat(2,auto);min-width:unset;display:grid}.sort-btn[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%]{line-height:.8rem;margin-left:8px;font-size:.8rem;margin-right:0;height:.8rem;width:.8rem;order:2}.sort-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{margin-right:8px;font-size:.75rem;margin-left:0;order:1}#filter-section[_ngcontent-%COMP%]{background:var(--app-bg1);border-radius:0 0 8px 8px;display:inline-flex;padding-bottom:.5rem;margin-bottom:1rem;align-items:center;padding-right:10px;padding-left:10px;margin-left:-10px;position:sticky;z-index:5;top:0}.sort-desc[_ngcontent-%COMP%]{transform:rotate(180deg)}.hot-deal[_ngcontent-%COMP%]{background-color:var(--app-cl1);color:var(--app-bg2);padding:2.5px 20px;font-size:.75rem;left:-5px}@media only screen and (min-width: 600px) and (max-width: 1919px){.simple-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:1.25rem}.favorite-btn[_ngcontent-%COMP%]{padding:9px 6px;height:36px}.favorite-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.2rem;height:1.2rem;width:1.2rem}}@media only screen and (min-width: 0px) and (max-width: 599px){app-searcher[_ngcontent-%COMP%]{margin-top:1.5rem}#home-content[_ngcontent-%COMP%]{margin-bottom:50px;text-align:right}#filter-section[_ngcontent-%COMP%]{margin-right:-10px;margin-bottom:0;margin-left:0}#character-section[_ngcontent-%COMP%]{text-align:left}.simple-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:1rem}.favorite-btn[_ngcontent-%COMP%]{padding:6px;height:24px}.favorite-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:.8rem;height:.8rem;width:.8rem}}"]})}return i})()}}]);