"use strict";(self.webpackChunkhero_app=self.webpackChunkhero_app||[]).push([[41],{3041:(y,p,r)=>{r.r(p),r.d(p,{HomeComponent:()=>A});var _=r(284),c=r(627),t=r(5879),f=r(2023),d=r(1896),u=r(8672),C=r(2296),m=r(3176),M=r(617),l=r(6814),O=r(1281),P=r(7304),v=r(1816),b=r(6688);function x(i,h){1&i&&(t.ynx(0),t.TgZ(1,"p"),t._uU(2,"No hay personajes disponibles"),t.qZA(),t.BQk())}function E(i,h){1&i&&(t.TgZ(0,"div",19),t._uU(1," HOT DEAL "),t.qZA())}const T=function(i){return["/character",i]};function Z(i,h){if(1&i&&(t.TgZ(0,"mat-grid-tile")(1,"a",13),t._UZ(2,"img",14),t.TgZ(3,"button",15),t._UZ(4,"mat-icon",16),t.qZA(),t.YNc(5,E,2,0,"div",17),t.ALo(6,"lastNumber"),t.TgZ(7,"div",18),t._uU(8),t.qZA()()()),2&i){const n=h.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(7,T,n.id)),t.xp6(1),t.hYB("ngSrc","",n.thumbnail.path,".",n.thumbnail.extension,""),t.xp6(3),t.Q6J("ngIf",!t.lcZ(6,5,n.id)),t.xp6(3),t.hij(" ",n.name," ")}}let A=(()=>{class i{get findText(){return this.route.queryParams.getValue().find}constructor(n,a){this.Characters=n,this.route=a,this.loadedCharacters=[],this.paginator={limit:18,page:1,total:0,orderType:c.a},this.listeners=[],this.loadingCharacters=!1,this.sortingCharacters=!1,this.findingCharacters=!1,this.isMobile=!1}ngAfterViewInit(){setTimeout(()=>{this.queryParamSubscription$=this.route.queryParams.subscribe(({find:a=""})=>{if(null!=a){this.findingCharacters=!0;const{limit:e,total:o}=this.paginator;this.Characters.replace({limit:o<e?e:o,find:a});const s=document.querySelector("#input-searcher");s&&(s.value=a)}}),this.characterSubscription$=this.Characters.characters.subscribe(a=>{const{limit:e,total:o}=this.paginator;this.loadedCharacters=a.slice(0,o+e),this.paginator.total=this.loadedCharacters.length,this.loadingCharacters&&(this.loadingCharacters=!1),this.sortingCharacters&&(this.sortingCharacters=!1),this.findingCharacters&&(this.findingCharacters=!1)});const n=()=>this.isMobile=window.innerWidth<600;n(),window.addEventListener("resize",n),this.listeners.push({parent:window,id:"resize",callback:n})},0)}load(n){if(this.loadingCharacters)return;const{limit:a,total:e,orderType:o}=this.paginator;if(e>=this.Characters.totalResults)return;const{clientHeight:s,scrollTop:g,scrollHeight:D}=n;if(!(Math.abs(s+g-D)>1)){if(this.loadingCharacters=!0,this.paginator.page++,this.Characters.totalLoaded>e)return this.loadedCharacters=this.Characters.characters.getValue().slice(0,e+a),this.paginator.total=this.loadedCharacters.length,void(this.loadingCharacters=!1);this.Characters.load({limit:a,offset:e,orderType:o,find:this.findText})}}changeSort(){this.sortingCharacters=!0,this.paginator.orderType=this.paginator.orderType===c.a?c.j:c.a,this.Characters.replace({orderType:this.paginator.orderType,find:this.findText})}ngOnDestroy(){this.characterSubscription$?.unsubscribe(),this.queryParamSubscription$?.unsubscribe(),this.listeners.forEach(({callback:n,id:a,parent:e})=>e.removeEventListener(a,n))}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(f.R),t.Y36(d.gz))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-home"]],standalone:!0,features:[t.jDz],decls:20,vars:14,consts:[["id","home-content",3,"wheel"],["section",""],["id","filter-section"],[1,"m-0","me-3","hide-on-mobile",2,"font-weight","500","color","var(--app-cl3)","line-height","2.2rem"],["mat-flat-button","",1,"sort-btn",3,"click"],[1,"btn-text"],["svgIcon","ct-sort"],["id","character-section"],[4,"ngIf"],["rowHeight","17:20","gutterSize","17px",3,"cols"],[4,"ngFor","ngForOf"],[1,"p-relative","mt-3",2,"height","30px"],["bdColor","rgba(255, 255, 255, 0.6)","color","var(--app-cl3)","Color","rgba(0, 0, 0, 0.8)","size","medium","type","ball-pulse",3,"fullScreen"],[1,"simple-card","c-pointer",3,"routerLink"],["fill","",1,"background-image",3,"ngSrc"],["float","right/top","mat-flat-button","",1,"floating-element","favorite-btn"],["svgIcon","ct-favorite",1,"m-0"],["class","floating-element hot-deal","float","top",4,"ngIf"],[1,"content","scrollbar"],["float","top",1,"floating-element","hot-deal"]],template:function(a,e){if(1&a){const o=t.EpF();t._UZ(0,"app-header")(1,"app-searcher"),t.TgZ(2,"article",0,1),t.NdJ("wheel",function(){t.CHM(o);const g=t.MAs(3);return t.KtG(e.load(g))}),t.TgZ(4,"section",2)(5,"h3",3),t._uU(6),t.qZA(),t.TgZ(7,"button",4),t.NdJ("click",function(){return e.changeSort()}),t.TgZ(8,"span",5),t._uU(9),t.ALo(10,"lowercase"),t.qZA(),t._UZ(11,"mat-icon",6),t.ALo(12,"lowercase"),t.qZA()(),t.TgZ(13,"section",7),t.YNc(14,x,3,0,"ng-container",8),t.TgZ(15,"mat-grid-list",9),t.YNc(16,Z,9,9,"mat-grid-tile",10),t.qZA()(),t.TgZ(17,"div",11),t._UZ(18,"ngx-spinner",12),t.qZA()(),t._UZ(19,"app-navbar")}2&a&&(t.xp6(6),t.AsE(" ",e.paginator.total,"/",e.Characters.totalResults," resultados "),t.xp6(3),t.Oqu("asc"===t.lcZ(10,10,e.paginator.orderType)?"A-Z":"Z-A"),t.xp6(2),t.Gre("m-0 sort-",t.lcZ(12,12,e.paginator.orderType),""),t.xp6(3),t.Q6J("ngIf",!e.loadedCharacters.length),t.xp6(1),t.Q6J("cols",e.isMobile?2:6),t.xp6(1),t.Q6J("ngForOf",e.loadedCharacters),t.xp6(2),t.Q6J("fullScreen",e.sortingCharacters||e.findingCharacters))},dependencies:[_.m,u.Ro,C.lW,m.Il,m.DX,M.Hw,d.rH,l.sg,l.O5,O.P,P.G,v.S,l.Zd,l.i8,b.h],styles:["[_nghost-%COMP%]{background:var(--tertiary-bg);flex-direction:column;height:100vh;display:flex}#home-content[_ngcontent-%COMP%]{-webkit-overflow-scrolling:touch;padding:0 8vw 2vh;overflow:auto;flex-grow:1;height:100%}.favorite-btn[_ngcontent-%COMP%]{--mdc-filled-button-container-color: rgba(255, 255, 255, .9);padding:24px 12px;min-width:unset}.mat-grid-tile[_ngcontent-%COMP%]{box-shadow:0 6px 10px var(--app-sw1);overflow:visible!important}.simple-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{overflow:auto}.simple-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:all .5s ease;opacity:.75}.simple-card[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:1}.sort-btn[_ngcontent-%COMP%]{--mdc-filled-button-label-text-color: var(--app-cl2);--mdc-filled-button-container-color: transparent;grid-template-columns:repeat(2,auto);min-width:unset;display:grid}.sort-btn[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%]{line-height:.8rem;margin-left:8px;font-size:.8rem;margin-right:0;height:.8rem;width:.8rem;order:2}.sort-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{margin-right:8px;font-size:.75rem;margin-left:0;order:1}#filter-section[_ngcontent-%COMP%]{background:var(--app-bg1);border-radius:0 0 8px 8px;display:inline-flex;padding-bottom:.5rem;margin-bottom:1rem;align-items:center;padding-right:10px;padding-left:10px;margin-left:-10px;position:sticky;z-index:5;top:0}.sort-desc[_ngcontent-%COMP%]{transform:rotate(180deg)}.hot-deal[_ngcontent-%COMP%]{background-color:var(--app-cl1);color:var(--app-bg2);padding:2.5px 20px;font-size:.75rem;left:-5px}@media only screen and (min-width: 600px) and (max-width: 1919px){.simple-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:1.25rem}.favorite-btn[_ngcontent-%COMP%]{padding:9px 6px;height:36px}.favorite-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.2rem;height:1.2rem;width:1.2rem}}@media only screen and (min-width: 0px) and (max-width: 599px){app-searcher[_ngcontent-%COMP%]{margin-top:1.5rem}#home-content[_ngcontent-%COMP%]{text-align:right}#filter-section[_ngcontent-%COMP%]{margin-right:-10px;margin-bottom:0;margin-left:0}#character-section[_ngcontent-%COMP%]{text-align:left}.simple-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:1rem}.favorite-btn[_ngcontent-%COMP%]{padding:6px;height:24px}.favorite-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:.8rem;height:.8rem;width:.8rem}}"]})}return i})()}}]);